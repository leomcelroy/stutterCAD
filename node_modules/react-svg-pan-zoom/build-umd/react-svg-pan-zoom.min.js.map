{"version":3,"sources":["webpack://ReactSVGPanZoom/webpack/universalModuleDefinition","webpack://ReactSVGPanZoom/webpack/bootstrap","webpack://ReactSVGPanZoom/external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack://ReactSVGPanZoom/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/build-umd/transformation-matrix.min.js","webpack://ReactSVGPanZoom/./src/constants.js","webpack://ReactSVGPanZoom/./src/features/common.js","webpack://ReactSVGPanZoom/./src/events/viewer-event.js","webpack://ReactSVGPanZoom/./src/events/viewer-mouse-event.js","webpack://ReactSVGPanZoom/./src/events/viewer-touch-event.js","webpack://ReactSVGPanZoom/./src/features/pan.js","webpack://ReactSVGPanZoom/./src/utils/calculateBox.js","webpack://ReactSVGPanZoom/./src/features/zoom.js","webpack://ReactSVGPanZoom/./src/features/interactions.js","webpack://ReactSVGPanZoom/./src/features/interactions-touch.js","webpack://ReactSVGPanZoom/./src/features/miniature.js","webpack://ReactSVGPanZoom/./src/ui/cursor-polyfill.js","webpack://ReactSVGPanZoom/./src/utils/RandomUID.js","webpack://ReactSVGPanZoom/./src/utils/getDisplayName.js","webpack://ReactSVGPanZoom/./src/ui/border-gradient.js","webpack://ReactSVGPanZoom/./src/ui/selection.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-cursor.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-pan.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-in.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-out.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-fit.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar-button.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/icon-arrow.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-toggle-button.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-mask.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature.jsx","webpack://ReactSVGPanZoom/./src/viewer.js","webpack://ReactSVGPanZoom/./src/events/event-factory.js","webpack://ReactSVGPanZoom/./src/utils/mapRange.js","webpack://ReactSVGPanZoom/./src/ui/detect-touch.js","webpack://ReactSVGPanZoom/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","e","default","x","a","y","b","f","map","u","parseFloat","match","length","Error","iterator","constructor","isNaN","isFinite","arguments","v","Array","isArray","from","slice","apply","concat","Math","cos","h","sin","PI","g","S","w","O","P","j","F","MODE_IDLE","MODE_PANNING","MODE_ZOOMING","TOOL_AUTO","TOOL_NONE","TOOL_PAN","TOOL_ZOOM_IN","TOOL_ZOOM_OUT","POSITION_TOP","POSITION_RIGHT","POSITION_BOTTOM","POSITION_LEFT","ACTION_ZOOM","ACTION_PAN","ALIGN_CENTER","ALIGN_LEFT","ALIGN_RIGHT","ALIGN_TOP","ALIGN_BOTTOM","set","change","action","undefined","assign","lastAction","freeze","getSVGPoint","viewerX","viewerY","matrix","transformation_matrix_min","inverseMatrix","decompose","scaleFactor","translationX","translationY","common_setPointOnViewerCenter","SVGPointX","SVGPointY","zoomLevel","viewerWidth","viewerHeight","_extends","common_reset","resetMode","startX","startY","endX","endY","ViewerEvent","originalEvent","SVGViewer","_classCallCheck","this","preventDefault","stopPropagation","_cacheDecomposedValue","viewer_event","_cachePoint","event","rect","getBoundingClientRect","clientX","round","left","clientY","top","point","_cachePoints","ViewerTouchEvent","touchesToPoints","touches","_cacheChangedPoints","changedTouches","points","touch","push","viewer_touch_event_extends","identifier","pan_pan","SVGDeltaX","SVGDeltaY","panLimit","_applyToPoints","SVGWidth","SVGHeight","_applyToPoints2","_slicedToArray","_applyToPoints2$","x1","y1","_applyToPoints2$2","x2","y2","moveX","moveY","pan_extends","stopPanning","calculateBox","start","end","width","height","isZoomLevelGoingOutOfBounds","scaleFactorMin","lessThanScaleFactorMin","scaleFactorMax","moreThanScaleFactorMax","limitZoomLevel","scaleLevel","max","min","zoom_zoom","zoom_extends","zoom_fitSelection","selectionSVGPointX","selectionSVGPointY","selectionWidth","selectionHeight","scaleX","scaleY","zoom_fitToViewer","SVGAlignX","SVGAlignY","scaleMatrix","translationMatrix","remainderY","remainderX","zoom_zoomOnViewerCenter","SVGPoint","stopZooming","props","abs","box","interactions_onMouseDown","ViewerDOM","tool","coords","_ViewerDOM$getBoundin","nextValue","startZooming","startPanning","interactions_onMouseMove","_ViewerDOM$getBoundin2","forceExit","buttons","updateZooming","updatePanning","preventPanOutside","interactions_onMouseUp","_ViewerDOM$getBoundin3","onMouseEnterOrLeave","focus","setFocus","type","onInterval","indexOf","detectAutoPan","deltaX","deltaY","autoPanIfNeeded","hasPinchPointDistance","pinchPointDistance","onMultiTouch","sqrt","pow","previousPointDistance","svgPoint","distanceFactor","cancelable","interactions_touch_extends","prePinchMode","isMultiTouch","detectPinchGesture","getNextValue","nextValueFn","touchPosition","getTouchPosition","interactions_touch_onTouchEnd","shouldResetPinchPointDistance","miniature_openMiniature","miniatureOpen","miniature_closeMiniature","userAgent","navigator","toLowerCase","cursor_polyfill","cursor","needPrefix","uid","nextUID","RandomUID_RandomUID","WrappedComponent","RandomUID","_React$Component","RandomUID_classCallCheck","_this","RandomUID_possibleConstructorReturn","__proto__","getPrototypeOf","state","RandomUID_inherits","external_root_React_commonjs2_react_commonjs_react_amd_react_default","Component","RandomUID_createClass","createElement","RandomUID_extends","_uid","displayName","getDisplayName","prefixID","BorderGradient","_ref","direction","transform","gradientID","maskID","id","spreadMethod","offset","stopColor","stopOpacity","style","stroke","fill","mask","propTypes","external_root_PropTypes_commonjs2_prop_types_commonjs_prop_types_amd_prop_types_default","oneOf","isRequired","number","border_gradient","Selection","strokeOpacity","fillOpacity","pointerEvents","IconCursor","IconPan","IconZoomIn","IconZoomOut","IconFit","toolbar_button_ToolbarButton","ToolbarButton","toolbar_button_classCallCheck","toolbar_button_possibleConstructorReturn","hover","setState","_this2","display","margin","toolbarPosition","color","active","transition","background","padding","border","outline","onMouseEnter","onMouseLeave","onTouchStart","onClick","onTouchEnd","onTouchCancel","title","role","children","Toolbar","onChangeValue","onChangeTool","position","handleChangeTool","isHorizontal","right","bottom","backgroundColor","borderRadius","flexDirection","toolbar_button","handleFit","IconArrow","open","MiniatureToggleButton","_style","_defineProperty","string","func","bool","defaultProps","miniature_mask_prefixID","MiniatureMask","zoomToFit","opacity","miniature_mask","Miniature","SVGBackground","miniatureWidth","miniatureHeight","ratio","miniature_slicedToArray","miniature_defineProperty","overflow","centerTranslation","viewer_ReactSVGPanZoom","ReactSVGPanZoom","context","viewer_classCallCheck","viewer_possibleConstructorReturn","_this$props","_children$props","version","getDefaultValue","autoPanLoop","nextProps","getValue","needUpdate","setViewerSize","_nextProps$children$p","setSVGSize","setZoomLevels","setValue","getTool","touchAction","_props","onZoom","onPan","target","onEventHandler","click","dblclick","onDoubleClick","mousemove","onMouseMove","mouseup","onMouseUp","mousedown","onMouseDown","touchstart","touchmove","onTouchMove","touchend","touchcancel","eventType","viewer_mouse_event","viewer_touch_event","event_factory","autoPanIsRunning","requestAnimationFrame","_state","CustomToolbar","customToolbar","CustomMiniature","customMiniature","panningWithToolAuto","blockChildEvents","viewer_extends","className","ref","getSvgStyle","handleViewerEvent","_ViewerDOM$getBoundin4","disableDoubleClickZoomWithToolAuto","modifierKeys","reduce","current","modifierKey","getModifierState","interactions_onDoubleClick","onWheel","_ViewerDOM$getBoundin5","detectWheel","low1","high1","low2","high2","mapRange","scaleFactorOnWheel","interactions_onWheel","maxTouchPoints","interactions_touch_onTouchStart","interactions_touch_onTouchMove","interactions_touch_onTouchCancel","SVGStyle","changeTool","toolbarProps","miniaturePosition","miniatureBackground","shape","array","oneOfType","element","propName","componentName","prop","types","Children","count","join","disableZoomWithToolAuto","Viewer","console","error"],"mappings":"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","file":"react-svg-pan-zoom.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"prop-types\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"prop-types\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactSVGPanZoom\"] = factory(require(\"prop-types\"), require(\"react\"));\n\telse\n\t\troot[\"ReactSVGPanZoom\"] = factory(root[\"PropTypes\"], root[\"React\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","!function(r,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.TransformationMatrix=t():r.TransformationMatrix=t()}(window,function(){return function(r){var t={};function n(e){if(t[e])return t[e].exports;var o=t[e]={i:e,l:!1,exports:{}};return r[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=r,n.c=t,n.d=function(r,t,e){n.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:e})},n.r=function(r){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(r,\"__esModule\",{value:!0})},n.t=function(r,t){if(1&t&&(r=n(r)),8&t)return r;if(4&t&&\"object\"==typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,\"default\",{enumerable:!0,value:r}),2&t&&\"string\"!=typeof r)for(var o in r)n.d(e,o,function(t){return r[t]}.bind(null,o));return e},n.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(t,\"a\",t),t},n.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},n.p=\"\",n(n.s=0)}([function(r,t,n){\"use strict\";function e(r,t){return{x:r.a*t.x+r.c*t.y+r.e,y:r.b*t.x+r.d*t.y+r.f}}function o(r,t){return t.map(function(t){return e(r,t)})}function u(r){return{a:parseFloat(r.a),b:parseFloat(r.b),c:parseFloat(r.c),d:parseFloat(r.d),e:parseFloat(r.e),f:parseFloat(r.f)}}n.r(t);var a=/^matrix\\(\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*\\)$/i;function i(r){var t=r.match(a);if(null===t||t.length<7)throw new Error(\"'\"+r+\"' is not a matrix\");return{a:parseFloat(t[1]),b:parseFloat(t[2]),c:parseFloat(t[3]),d:parseFloat(t[4]),e:parseFloat(t[5]),f:parseFloat(t[6])}}function f(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function c(r){var t=r.a,n=r.b,e=r.c,o=r.d,u=r.e,a=r.f,i=t*o-n*e;return{a:o/i,b:n/-i,c:e/-i,d:t/i,e:(o*u-e*a)/-i,f:(n*u-t*a)/i}}var d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&\"function\"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?\"symbol\":typeof r},s=function(r){return\"number\"==typeof r&&!isNaN(r)&&isFinite(r)},l=function(r){return null!=r&&\"object\"===(void 0===r?\"undefined\":d(r))};function p(r){return l(r)&&r.hasOwnProperty(\"a\")&&s(r.a)&&r.hasOwnProperty(\"b\")&&s(r.b)&&r.hasOwnProperty(\"c\")&&s(r.c)&&r.hasOwnProperty(\"d\")&&s(r.d)&&r.hasOwnProperty(\"e\")&&s(r.e)&&r.hasOwnProperty(\"f\")&&s(r.f)}function y(r){return void 0===r}function b(r){return{a:1,c:0,e:r,b:0,d:1,f:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}}function v(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];var e=function(r,t){return{a:r.a*t.a+r.c*t.b,c:r.a*t.c+r.c*t.d,e:r.a*t.e+r.c*t.f+r.e,b:r.b*t.a+r.d*t.b,d:r.b*t.c+r.d*t.d,f:r.b*t.e+r.d*t.f+r.f}};switch((t=Array.isArray(t[0])?t[0]:t).length){case 0:throw new Error(\"no matrices provided\");case 1:return t[0];case 2:return e(t[0],t[1]);default:var o=function(r){return Array.isArray(r)?r:Array.from(r)}(t),u=o[0],a=o[1],i=o.slice(2),f=e(u,a);return v.apply(void 0,[f].concat(function(r){if(Array.isArray(r)){for(var t=0,n=Array(r.length);t<r.length;t++)n[t]=r[t];return n}return Array.from(r)}(i)))}}var m=Math.cos,h=Math.sin,x=Math.PI;function g(r,t,n){var e=m(r),o=h(r),u={a:e,c:-o,e:0,b:o,d:e,f:0};return y(t)||y(n)?u:v([b(t,n),u,b(-t,-n)])}function S(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return g(r*x/180,t,n)}function w(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return y(t)&&(t=r),{a:r,c:0,e:0,b:0,d:t,f:0}}function O(r,t){return{a:1,c:r,e:0,b:t,d:1,f:0}}function P(r){return j(r)}function F(r){return j(r)}function j(r){return\"matrix(\"+r.a+\",\"+r.b+\",\"+r.c+\",\"+r.d+\",\"+r.e+\",\"+r.f+\")\"}n.d(t,\"applyToPoint\",function(){return e}),n.d(t,\"applyToPoints\",function(){return o}),n.d(t,\"fromObject\",function(){return u}),n.d(t,\"fromString\",function(){return i}),n.d(t,\"identity\",function(){return f}),n.d(t,\"inverse\",function(){return c}),n.d(t,\"isAffineMatrix\",function(){return p}),n.d(t,\"rotate\",function(){return g}),n.d(t,\"rotateDEG\",function(){return S}),n.d(t,\"scale\",function(){return w}),n.d(t,\"shear\",function(){return O}),n.d(t,\"toCSS\",function(){return P}),n.d(t,\"toSVG\",function(){return F}),n.d(t,\"toString\",function(){return j}),n.d(t,\"transform\",function(){return v}),n.d(t,\"translate\",function(){return b})}])});\n//# sourceMappingURL=transformation-matrix.min.js.map","export const MODE_IDLE = 'idle';\nexport const MODE_PANNING = 'panning';\nexport const MODE_ZOOMING = 'zooming';\n\nexport const TOOL_AUTO = 'auto';\nexport const TOOL_NONE = 'none';\nexport const TOOL_PAN = 'pan';\nexport const TOOL_ZOOM_IN = 'zoom-in';\nexport const TOOL_ZOOM_OUT = 'zoom-out';\n\nexport const POSITION_NONE = 'none';\nexport const POSITION_TOP = 'top';\nexport const POSITION_RIGHT = 'right';\nexport const POSITION_BOTTOM = 'bottom';\nexport const POSITION_LEFT = 'left';\n\nexport const ACTION_ZOOM = 'zoom';\nexport const ACTION_PAN = 'pan';\n\nexport const ALIGN_CENTER = 'center';\nexport const ALIGN_LEFT = 'left';\nexport const ALIGN_RIGHT = 'right';\nexport const ALIGN_TOP = 'top';\nexport const ALIGN_BOTTOM = 'bottom';\n","import {TOOL_NONE, MODE_IDLE} from '../constants';\nimport {\n  identity,\n  fromObject,\n  inverse,\n  applyToPoint,\n  transform,\n  translate,\n  scale\n} from 'transformation-matrix';\n\n/**\n * Obtain default value\n * @returns {Object}\n */\nexport function getDefaultValue(viewerWidth, viewerHeight, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax) {\n  return set({}, {\n    ...identity(),\n    version: 2,\n    mode: MODE_IDLE,\n    focus: false,\n    pinchPointDistance: null,\n    prePinchMode: null,\n    viewerWidth,\n    viewerHeight,\n    SVGWidth,\n    SVGHeight,\n    scaleFactorMin,\n    scaleFactorMax,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    miniatureOpen: true,\n    lastAction: null,\n  });\n}\n\n/**\n * Change value\n * @param value\n * @param change\n * @param action\n * @returns {Object}\n */\nexport function set(value, change, action = null) {\n  value = Object.assign({}, value, change, {lastAction: action});\n  return Object.freeze(value);\n}\n\n/**\n * value valid check\n * @param value\n */\nexport function isValueValid(value) {\n  return value !== null\n    && typeof value === 'object'\n    && value.hasOwnProperty('version');\n}\n\n/**\n * Export x,y coords relative to SVG\n * @param value\n * @param viewerX\n * @param viewerY\n * @returns {*|{x, y}|{x: number, y: number}}\n */\nexport function getSVGPoint(value, viewerX, viewerY) {\n  let matrix = fromObject(value);\n\n  let inverseMatrix = inverse(matrix);\n  return applyToPoint(inverseMatrix, {x: viewerX, y: viewerY});\n}\n\n/**\n * Decompose matrix from value\n * @param value\n * @returns {{scaleFactor: number, translationX: number, translationY: number}}\n */\nexport function decompose(value) {\n  let matrix = fromObject(value);\n\n  return {\n    scaleFactor: matrix.a,\n    translationX: matrix.e,\n    translationY: matrix.f\n  }\n}\n\n/**\n *\n * @param value\n * @param focus\n * @returns {Object}\n */\nexport function setFocus(value, focus) {\n  return set(value, {focus});\n}\n\n\n/**\n *\n * @param value\n * @param viewerWidth\n * @param viewerHeight\n * @returns {Object}\n */\nexport function setViewerSize(value, viewerWidth, viewerHeight) {\n  return set(value, {viewerWidth, viewerHeight});\n}\n\n/**\n *\n * @param value\n * @param SVGWidth\n * @param SVGHeight\n * @returns {Object}\n */\nexport function setSVGSize(value, SVGWidth, SVGHeight) {\n  return set(value, {SVGWidth, SVGHeight});\n}\n\n/**\n *\n * @param value\n * @param scaleFactorMin\n * @param scaleFactorMax\n * @returns {Object}\n */\nexport function setZoomLevels(value, scaleFactorMin, scaleFactorMax) {\n  return set(value, {scaleFactorMin, scaleFactorMax});\n}\n\n/**\n *\n * @param value\n * @param SVGPointX\n * @param SVGPointY\n * @param zoomLevel\n * @returns {Object}\n */\nexport function setPointOnViewerCenter(value, SVGPointX, SVGPointY, zoomLevel) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let matrix = transform(\n    translate(-SVGPointX + viewerWidth / 2, -SVGPointY + viewerHeight / 2),   //4\n    translate(SVGPointX, SVGPointY),                                          //3\n    scale(zoomLevel, zoomLevel),                                              //2\n    translate(-SVGPointX, -SVGPointY)                                         //1\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function reset(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    ...identity()\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function resetMode(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  })\n}\n","import {decompose} from '../features/common'\n\nexport default class ViewerEvent {\n  constructor(originalEvent, value, SVGViewer) {\n    this.originalEvent = originalEvent;\n    this.value = value;\n    this.SVGViewer = SVGViewer;\n  }\n\n  get scaleFactor() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.scaleFactor;\n  }\n\n  get translationX() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationX;\n  }\n\n  get translationY() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationY;\n  }\n\n  preventDefault(){\n    this.originalEvent.preventDefault();\n  }\n\n  stopPropagation(){\n    this.originalEvent.stopPropagation();\n  }\n}\n","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerMouseEvent extends ViewerEvent{\n\n  get point() {\n    if (!this._cachePoint) {\n      let event = this.originalEvent, value = this.value, SVGViewer = this.SVGViewer;\n\n      let rect = SVGViewer.getBoundingClientRect();\n      let x = event.clientX - Math.round(rect.left);\n      let y = event.clientY - Math.round(rect.top);\n\n      this._cachePoint = getSVGPoint(value, x, y);\n    }\n    return this._cachePoint;\n  }\n\n  get x() {\n    return this.point.x;\n  }\n\n  get y() {\n    return this.point.y;\n  }\n}\n","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerTouchEvent extends ViewerEvent {\n  get points() {\n    if (!this._cachePoints)\n      this._cachePoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.touches, this.SVGViewer, this.value);\n\n    return this._cachePoints;\n  }\n\n  get changedPoints() {\n    if (!this._cacheChangedPoints)\n      this._cacheChangedPoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.changedTouches, this.SVGViewer, this.value);\n\n    return this._cacheChangedPoints;\n  }\n\n  static touchesToPoints(touches, SVGViewer, value) {\n    let points = [];\n    for (let i = 0; i < touches.length; i++) {\n      let touch = touches[i];\n\n      let rect = SVGViewer.getBoundingClientRect();\n      let x = touch.clientX - Math.round(rect.left);\n      let y = touch.clientY - Math.round(rect.top);\n\n      let point = getSVGPoint(value, x, y);\n\n      points.push({...point, identifier: touch.identifier});\n    }\n    return points;\n  }\n}\n","import {ACTION_PAN, MODE_IDLE, MODE_PANNING} from '../constants';\nimport {set, getSVGPoint} from './common';\nimport {fromObject, translate, transform, applyToPoints, inverse} from 'transformation-matrix';\n\n/**\n *\n * @param value\n * @param SVGDeltaX\n * @param SVGDeltaY\n * @param panLimit\n * @returns {Object}\n */\nexport function pan(value, SVGDeltaX, SVGDeltaY, panLimit = undefined) {\n\n  let matrix = transform(\n    fromObject(value),              //2\n    translate(SVGDeltaX, SVGDeltaY) //1\n  );\n\n  // apply pan limits\n  if (panLimit) {\n    let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(matrix, [\n      {x: panLimit, y: panLimit},\n      {x: value.SVGWidth - panLimit, y: value.SVGHeight - panLimit}\n    ]);\n\n    //x limit\n    let moveX = 0;\n    if (value.viewerWidth - x1 < 0)\n      moveX = value.viewerWidth - x1;\n    else if (x2 < 0) moveX = -x2;\n\n\n    //y limit\n    let moveY = 0;\n    if (value.viewerHeight - y1 < 0)\n      moveY = value.viewerHeight - y1;\n    else if (y2 < 0) moveY = -y2;\n\n    //apply limits\n    matrix = transform(\n      translate(moveX, moveY),\n      matrix\n    )\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  }, ACTION_PAN);\n}\n\nexport function startPanning(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_PANNING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  }, ACTION_PAN);\n}\n\nexport function updatePanning(value, viewerX, viewerY, panLimit) {\n  if (value.mode !== MODE_PANNING) throw new Error('update pan not allowed in this mode ' + value.mode);\n\n  let {endX, endY} = value;\n\n  let start = getSVGPoint(value, endX, endY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  let deltaX = end.x - start.x;\n  let deltaY = end.y - start.y;\n\n  let nextValue = pan(value, deltaX, deltaY, panLimit);\n  return set(nextValue, {\n    mode: MODE_PANNING,\n    endX: viewerX,\n    endY: viewerY,\n  }, ACTION_PAN);\n}\n\nexport function stopPanning(value) {\n  return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    }, ACTION_PAN\n  );\n}\n\nexport function autoPanIfNeeded(value, viewerX, viewerY) {\n  let deltaX = 0;\n  let deltaY = 0;\n\n  if (viewerY <= 20) deltaY = 2;\n  if (value.viewerWidth - viewerX <= 20) deltaX = -2;\n  if (value.viewerHeight - viewerY <= 20) deltaY = -2;\n  if (viewerX <= 20) deltaX = 2;\n\n  deltaX = deltaX / value.d;\n  deltaY = deltaY / value.d;\n\n  return (deltaX === 0 && deltaY === 0) ? value : pan(value, deltaX, deltaY);\n}\n","export default function calculateBox(start, end) {\n  if (start.x <= end.x && start.y <= end.y) {\n    return {\n      x: start.x,\n      y: start.y,\n      width: end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y <= end.y) {\n    return {\n      x: end.x,\n      y: start.y,\n      width: start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y >= end.y) {\n    return {\n      x: end.x,\n      y: end.y,\n      width: start.x - end.x,\n      height: start.y - end.y\n    };\n  } else if (start.x <= end.x && start.y >= end.y) {\n    return {\n      x: start.x,\n      y: end.y,\n      width: end.x - start.x,\n      height: start.y - end.y\n    };\n  }\n}\n\n","import {transform, fromObject, translate, scale} from 'transformation-matrix';\n\nimport {\n  ACTION_ZOOM, MODE_IDLE, MODE_ZOOMING,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM\n} from '../constants';\nimport {set, getSVGPoint} from './common';\nimport calculateBox from '../utils/calculateBox';\n\nfunction lessThanScaleFactorMin (value, scaleFactor) {\n  return value.scaleFactorMin && (value.d * (scaleFactor)) <= value.scaleFactorMin;\n}\n\nfunction moreThanScaleFactorMax (value, scaleFactor) {\n  return value.scaleFactorMax && (value.d * scaleFactor) >= value.scaleFactorMax;\n}\n\nexport function isZoomLevelGoingOutOfBounds(value, scaleFactor) {\n  return lessThanScaleFactorMin(value, scaleFactor) && scaleFactor < 1 || moreThanScaleFactorMax(value, scaleFactor) && scaleFactor > 1;\n}\n\nexport function limitZoomLevel(value, matrix) {\n  let scaleLevel = matrix.a;\n\n  if(value.scaleFactorMin != null) {\n    // limit minimum zoom\n    scaleLevel = Math.max(scaleLevel, value.scaleFactorMin);\n  }\n\n  if(value.scaleFactorMax != null) {\n    // limit maximum zoom\n    scaleLevel = Math.min(scaleLevel, value.scaleFactorMax);\n  }\n\n  return set(matrix, {\n    a: scaleLevel,\n    d: scaleLevel\n  });\n}\n\nexport function zoom(value, SVGPointX, SVGPointY, scaleFactor) {\n  if (isZoomLevelGoingOutOfBounds(value, scaleFactor)) {\n      // Do not change translation and scale of value\n      return value;\n  }\n\n  const matrix = transform(\n    fromObject(value),\n    translate(SVGPointX, SVGPointY),\n    scale(scaleFactor, scaleFactor),\n    translate(-SVGPointX, -SVGPointY)\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function fitSelection(value, selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let scaleX = viewerWidth / selectionWidth;\n  let scaleY = viewerHeight / selectionHeight;\n\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  const matrix = transform(\n    scale(scaleLevel, scaleLevel),                      //2\n    translate(-selectionSVGPointX, -selectionSVGPointY) //1\n  );\n\n  if(isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function fitToViewer(value, SVGAlignX=ALIGN_LEFT, SVGAlignY=ALIGN_TOP) {\n  let {viewerWidth, viewerHeight, SVGWidth, SVGHeight} = value;\n\n  let scaleX = viewerWidth / SVGWidth;\n  let scaleY = viewerHeight / SVGHeight;\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  const scaleMatrix = scale(scaleLevel, scaleLevel);\n  let translationMatrix = translate(0, 0);\n\n  // after fitting, SVG and the viewer will match in width (1) or in height (2)\n  if (scaleX < scaleY) {\n    //(1) match in width, meaning scaled SVGHeight <= viewerHeight\n    let remainderY = viewerHeight - scaleX * SVGHeight;\n\n    if (SVGAlignY === ALIGN_CENTER)\n      translationMatrix = translate(0, Math.round(remainderY / 2));\n    if (SVGAlignY === ALIGN_BOTTOM)\n      translationMatrix = translate(0, remainderY);\n  }\n  else {\n    //(2) match in height, meaning scaled SVGWidth <= viewerWidth\n    let remainderX = viewerWidth - scaleY * SVGWidth;\n\n    if (SVGAlignX === ALIGN_CENTER)\n      translationMatrix = translate(Math.round(remainderX / 2), 0);\n    if (SVGAlignX === ALIGN_RIGHT)\n      translationMatrix = translate(remainderX, 0);\n  }\n\n  const matrix = transform(\n    translationMatrix, //2\n    scaleMatrix        //1\n  );\n\n  if (isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function zoomOnViewerCenter(value, scaleFactor) {\n  let {viewerWidth, viewerHeight} = value;\n  let SVGPoint = getSVGPoint(value, viewerWidth / 2, viewerHeight / 2);\n  return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n}\n\nexport function startZooming(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_ZOOMING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function updateZooming(value, viewerX, viewerY) {\n  if (value.mode !== MODE_ZOOMING) throw new Error('update selection not allowed in this mode ' + value.mode);\n\n  return set(value, {\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function stopZooming(value, viewerX, viewerY, scaleFactor, props) {\n  let {startX, startY, endX, endY} = value;\n\n  let start = getSVGPoint(value, startX, startY);\n  let end = getSVGPoint(value, endX, endY);\n\n  if (Math.abs(startX - endX) > 7 && Math.abs(startY - endY) > 7) {\n    let box = calculateBox(start, end);\n    return fitSelection(value, box.x, box.y, box.width, box.height);\n  } else {\n    let SVGPoint = getSVGPoint(value, viewerX, viewerY);\n    return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  }\n}\n","import {\n  TOOL_AUTO,\n  TOOL_NONE,\n  TOOL_PAN,\n  TOOL_ZOOM_IN,\n  TOOL_ZOOM_OUT,\n  MODE_PANNING,\n  MODE_ZOOMING,\n  MODE_IDLE\n} from '../constants';\nimport {setFocus, setViewerCoords, getSVGPoint} from './common';\nimport {startPanning, updatePanning, stopPanning, autoPanIfNeeded} from './pan';\nimport {startZooming, updateZooming, stopZooming, zoom} from './zoom';\nimport mapRange from '../utils/mapRange';\n\n\nexport function onMouseDown(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      let SVGPoint = getSVGPoint(value, x, y);\n      nextValue = zoom(value, SVGPoint.x, SVGPoint.y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      nextValue = startZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      nextValue = startPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseMove(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let forceExit = (event.buttons === 0); //the mouse exited and reentered into svg\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = forceExit ? stopZooming(value, x, y, props.scaleFactor, props) : updateZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = forceExit ? stopPanning(value) : updatePanning(value, x, y, props.preventPanOutside ? 20 : undefined);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseUp(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, props.scaleFactor, props);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = stopPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onDoubleClick(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_AUTO:\n      if (!props.disableDoubleClickZoomWithToolAuto) {\n        let SVGPoint = getSVGPoint(value, x, y);\n        let modifierKeysReducer = (current, modifierKey) => current || event.getModifierState(modifierKey);\n        let modifierKeyActive = props.modifierKeys.reduce(modifierKeysReducer, false);\n        let scaleFactor = modifierKeyActive ? 1 / props.scaleFactor : props.scaleFactor;\n        nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n      }\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onWheel(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  if (!props.detectWheel) return value;\n\n  let delta = Math.max(-1, Math.min(1, event.deltaY));\n  let scaleFactor = mapRange(delta, -1, 1, props.scaleFactorOnWheel, 1 / props.scaleFactorOnWheel);\n\n  let SVGPoint = getSVGPoint(value, x, y);\n  let nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseEnterOrLeave(event, ViewerDOM, tool, value, props, coords = null) {\n  let nextValue = setFocus(value, event.type === 'mouseenter');\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onInterval(event, ViewerDOM, tool, value, props, coords = null) {\n  let {x, y} = coords;\n\n  if (! ([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0) ) return value;\n  if (!props.detectAutoPan) return value;\n  if (!value.focus) return value;\n\n  return autoPanIfNeeded(value, x, y);\n}\n","import {transform, fromObject, translate, scale} from 'transformation-matrix';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_AUTO, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  MODE_IDLE, MODE_PANNING, MODE_ZOOMING\n} from '../constants';\nimport {resetMode, getSVGPoint, set} from './common';\nimport {onMouseDown, onMouseMove, onMouseUp} from './interactions';\nimport {isZoomLevelGoingOutOfBounds, limitZoomLevel} from './zoom';\n\nfunction hasPinchPointDistance(value) {\n  return typeof value.pinchPointDistance === 'number';\n}\n\nfunction onMultiTouch(event, ViewerDOM, tool, value, props) {\n  const {left, top} = ViewerDOM.getBoundingClientRect();\n  const x1 = event.touches[0].clientX - Math.round(left);\n  const y1 = event.touches[0].clientY - Math.round(top);\n  const x2 = event.touches[1].clientX - Math.round(left);\n  const y2 = event.touches[1].clientY - Math.round(top);\n  const pinchPointDistance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n  const previousPointDistance = hasPinchPointDistance(value) ? value.pinchPointDistance : pinchPointDistance;\n  const svgPoint = getSVGPoint(value, (x1 + x2) / 2, (y1 + y2) / 2);\n  let distanceFactor = pinchPointDistance/previousPointDistance;\n\n  if (isZoomLevelGoingOutOfBounds(value, distanceFactor)) {\n    // Do not change translation and scale of value\n    return value;\n  }\n\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n\n  let matrix = transform(\n    fromObject(value),\n    translate(svgPoint.x, svgPoint.y),\n    scale(distanceFactor, distanceFactor),\n    translate(-svgPoint.x, -svgPoint.y)\n  );\n\n  return set(value, set({\n    mode: MODE_ZOOMING,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    prePinchMode: value.prePinchMode ? value.prePinchMode : value.mode,\n    pinchPointDistance\n  }));\n}\n\nfunction isMultiTouch(event, props) {\n  return props.detectPinchGesture && event.touches.length > 1;\n}\n\nfunction shouldResetPinchPointDistance(event, value, props) {\n  return props.detectPinchGesture && hasPinchPointDistance(value) && event.touches.length < 2;\n}\n\nfunction getTouchPosition(touch, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = touch.clientX - Math.round(left);\n  let y = touch.clientY - Math.round(top);\n\n  return { x, y };\n}\n\nfunction getNextValue(event, ViewerDOM, tool, value, props, nextValueFn) {\n  let nextValue = event.touches.length === 0 ? set(value, { mode: value.prePinchMode ? MODE_IDLE : value.mode, prePinchMode: null }) : value;\n  let touch = event.touches.length > 0 ? event.touches[0] : event.changedTouches[0];\n  let touchPosition = getTouchPosition(touch, ViewerDOM);\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n    case TOOL_ZOOM_IN:\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      event.stopPropagation();\n      event.preventDefault();\n      return nextValueFn(event, ViewerDOM, tool, nextValue, props, touchPosition);\n\n    default:\n      return nextValue;\n  }\n}\n\nexport function onTouchStart(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (event.touches.length !== 1) {\n    if ([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0){\n      return resetMode(value);\n    } else if([MODE_IDLE].indexOf(value.mode) >= 0){\n      return value;\n    }\n  }\n\n  return getNextValue(event, ViewerDOM, tool, value, props, onMouseDown);\n}\n\nexport function onTouchMove(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  return getNextValue(event, ViewerDOM, tool, value, props, onMouseMove);\n}\n\nexport function onTouchEnd(event, ViewerDOM, tool, value, props) {\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  let nextValue = shouldResetPinchPointDistance(event, value, props) ? set(value, { pinchPointDistance: null }) : value;\n\n  if (event.touches.length > 0) {\n    return nextValue;\n  }\n\n  return getNextValue(event, ViewerDOM, tool, nextValue, props, onMouseUp);\n}\n\nexport function onTouchCancel(event, ViewerDOM, tool, value, props) {\n  event.stopPropagation();\n  event.preventDefault();\n\n  return resetMode(value);\n}\n","import {set} from './common';\n\n\nexport function openMiniature(value) {\n  return set(value, {\n    miniatureOpen: true\n  });\n}\n\nexport function closeMiniature(value) {\n  return set(value, {\n    miniatureOpen: false\n  });\n}\n\n","//specs: https://developer.mozilla.org/en-US/docs/Web/CSS/cursor\n\nlet needPrefix = (cursor) => ['zoom-in', 'zoom-out', 'grab', 'grabbing'].indexOf(cursor) > -1;\nlet userAgent = () => navigator.userAgent.toLowerCase();\nlet isFirefox = () => userAgent().indexOf('firefox') > -1;\nlet isWebkit = () => userAgent().indexOf('webkit') > -1;\n\nexport default function (cursor) {\n  if (!needPrefix(cursor)) return cursor;\n  if (isFirefox()) return `-moz-${cursor}`;\n  if (isWebkit()) return `-webkit-${cursor}`;\n}\n\n\n","import React from \"react\";\nimport getDisplayName from \"./getDisplayName\";\n\nlet uid = 1;\nconst nextUID = () => `uid${uid++}`;\n\nexport default function RandomUID(WrappedComponent) {\n  class RandomUID extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {uid: nextUID()}\n    }\n\n    render() {\n      return <WrappedComponent _uid={this.state.uid} {...this.props}/>\n    }\n  }\n\n  RandomUID.displayName = `RandomUID(${getDisplayName(WrappedComponent)})`;\n\n  return RandomUID;\n}\n","//https://facebook.github.io/react/docs/higher-order-components.html#convention-wrap-the-display-name-for-easy-debugging\nexport default function getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT} from '../constants';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_border_gradient'\n\nfunction BorderGradient({direction, width, height, _uid}) {\n\n  let transform;\n\n  switch (direction) {\n    case POSITION_TOP:\n      transform = `translate(${width}, 0) rotate(90)`;\n      break;\n\n    case POSITION_RIGHT:\n      transform = `translate(${width}, ${height}) rotate(180)`;\n      break;\n\n    case POSITION_BOTTOM:\n      transform = `translate(0, ${height}) rotate(270)`;\n      break;\n\n    case POSITION_LEFT:\n      transform = \" \";\n      break;\n  }\n\n  let gradientID = `${prefixID}_gradient_${_uid}`\n  let maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <linearGradient id={gradientID} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\" spreadMethod=\"pad\">\n          <stop offset=\"0%\" stopColor=\"#fff\" stopOpacity=\"0.8\"/>\n          <stop offset=\"100%\" stopColor=\"#000\" stopOpacity=\"0.5\"/>\n        </linearGradient>\n\n        <mask id={maskID} x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}>\n          <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n                style={{stroke: \"none\", fill: `url(#${gradientID})`}}/>\n        </mask>\n      </defs>\n\n      <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n            style={{stroke: \"none\", fill: \"#000\", mask: `url(#${maskID})`}} transform={transform}/>\n    </g>\n  );\n}\n\nBorderGradient.propTypes = {\n  direction: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\n\nexport default RandomUID(BorderGradient)\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport calculateBox from '../utils/calculateBox';\n\nexport default function Selection({startX, startY, endX, endY}) {\n  if (!startX || !startY || !endX || !endY) return null;\n\n  let box = calculateBox({x: startX, y: startY}, {x: endX, y: endY});\n\n  return (<rect\n    stroke=\"#969FFF\"\n    strokeOpacity={0.7}\n    fill=\"#F3F4FF\"\n    fillOpacity={0.7}\n    x={box.x}\n    y={box.y}\n    width={box.width}\n    height={box.height}\n    style={{pointerEvents: \"none\"}}/>);\n}\n\nSelection.propTypes = {\n  startX: PropTypes.number.isRequired,\n  startY: PropTypes.number.isRequired,\n  endX: PropTypes.number.isRequired,\n  endY: PropTypes.number.isRequired\n};\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconCursor() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://materialdesignicons.com/icon/cursor-move\n\nexport default function IconPan() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_in\n\nexport default function IconZoomIn() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g>\n        <path\n          d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_out\n\nexport default function IconZoomOut() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n    </svg>\n  )\n}\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconFit() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  POSITION_TOP, POSITION_BOTTOM\n} from '../constants';\n\nexport default class ToolbarButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {hover: false};\n  }\n\n  change(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.type) {\n      case 'mouseenter':\n      case 'touchstart':\n        this.setState({hover: true});\n        break;\n      case 'mouseleave':\n      case 'touchend':\n      case 'touchcancel':\n        this.setState({hover: false});\n        break;\n    }\n  }\n\n  render() {\n    let style = {\n      display: \"block\",\n      width: \"24px\",\n      height: \"24px\",\n      margin: [POSITION_TOP, POSITION_BOTTOM].indexOf(this.props.toolbarPosition) >= 0 ? \"2px 1px\" : \"1px 2px\",\n      color: this.props.active || this.state.hover ? '#1CA6FC' : '#FFF',\n      transition: \"color 200ms ease\",\n      background: \"none\",\n      padding: \"0px\",\n      border: \"0px\",\n      outline: \"0px\",\n      cursor: \"pointer\"\n    };\n\n    return (\n      <button\n        onMouseEnter={e => this.change(e)}\n        onMouseLeave={e => this.change(e)}\n\n        onTouchStart={e => {\n          this.change(e);\n          this.props.onClick(e);\n        }}\n        onTouchEnd={e => this.change(e)}\n        onTouchCancel={e => this.change(e)}\n\n        onClick={this.props.onClick}\n\n        style={style}\n        title={this.props.title}\n        name={this.props.name}\n        role=\"button\"\n        type=\"button\"\n      >{this.props.children}</button>\n    )\n  }\n\n}\n\nToolbarButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  toolbarPosition: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  active: PropTypes.bool.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM,\n} from '../constants';\n\nimport {fitToViewer} from '../features/zoom';\nimport IconCursor from './icon-cursor';\nimport IconPan from './icon-pan';\nimport IconZoomIn from './icon-zoom-in';\nimport IconZoomOut from './icon-zoom-out';\nimport IconFit from './icon-fit';\nimport ToolbarButton from './toolbar-button';\n\nexport default function Toolbar({tool, value, onChangeValue, onChangeTool, position, SVGAlignX, SVGAlignY}) {\n\n  let handleChangeTool = (event, tool) => {\n    onChangeTool(tool);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let handleFit = event => {\n    onChangeValue(fitToViewer(value, SVGAlignX, SVGAlignY));\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let isHorizontal = [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0;\n\n  let style = {\n    //position\n    position: \"absolute\",\n    transform: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"translate(-50%, 0px)\" : \"none\",\n    top: [POSITION_LEFT, POSITION_RIGHT, POSITION_TOP].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    left: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"50%\" : (POSITION_LEFT === position ? \"5px\" : \"unset\"),\n    right: [POSITION_RIGHT].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    bottom: [POSITION_BOTTOM].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n\n    //inner styling\n    backgroundColor: \"rgba(19, 20, 22, 0.90)\",\n    borderRadius: \"2px\",\n    display: \"flex\",\n    flexDirection: isHorizontal ? \"row\" : \"column\",\n    padding: isHorizontal ? \"1px 2px\" : \"2px 1px\"\n  };\n\n  return (\n    <div style={style} role=\"toolbar\">\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_NONE}\n        name=\"unselect-tools\"\n        title=\"Selection\"\n        onClick={ event => handleChangeTool(event, TOOL_NONE) }>\n        <IconCursor/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_PAN}\n        name=\"select-tool-pan\"\n        title=\"Pan\"\n        onClick={ event => handleChangeTool(event, TOOL_PAN) }>\n        <IconPan/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_IN}\n        name=\"select-tool-zoom-in\"\n        title=\"Zoom in\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_IN) }>\n        <IconZoomIn/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_OUT}\n        name=\"select-tool-zoom-out\"\n        title=\"Zoom out\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_OUT) }>\n        <IconZoomOut/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={false}\n        name=\"fit-to-viewer\"\n        title=\"Fit to viewer\"\n        onClick={ event => handleFit(event) }>\n        <IconFit/>\n      </ToolbarButton>\n    </div>\n  )\n}\n\nToolbar.propTypes = {\n  position: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  tool: PropTypes.string.isRequired,\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  onChangeTool: PropTypes.func.isRequired,\n  SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n  SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n};\n\nToolbar.defaultProps = {\n  SVGAlignX: ALIGN_LEFT,\n  SVGAlignY: ALIGN_TOP\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\n//credits https://materialdesignicons.com/icon/chevron-up\n\nexport default function IconArrow({open, position}) {\n\n  let transform = 0;\n\n  switch (position){\n    case POSITION_LEFT:\n      transform = open ? \"rotate(225, 12, 13)\" : \"rotate(45, 12, 13)\";\n      break;\n\n    case POSITION_RIGHT:\n      transform = transform = open ? \"rotate(135, 12, 13)\" : \"rotate(-45, 12, 13)\";\n  }\n\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g transform={transform}>\n        <path fill=\"#000000\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\"/>\n      </g>\n    </svg>\n  );\n}\n\nIconArrow.propTypes = {\n  open: PropTypes.bool.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {openMiniature, closeMiniature} from '../features/miniature';\nimport IconArrow from './icon-arrow';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\nexport default function MiniatureToggleButton({value, onChangeValue, position}) {\n  let style = {\n    width: \"24px\",\n    height: \"24px\",\n    display: \"block\",\n    position: \"absolute\",\n    bottom: 0,\n    [position === POSITION_LEFT ? 'left' : 'right']: '0px',\n    background: \"rgba(19, 20, 22, 0.901961)\",\n    border: 0,\n    padding: 0,\n    outline: 0,\n    color: \"#fff\"\n  };\n\n  let action = value.miniatureOpen ? closeMiniature : openMiniature;\n\n  return (\n    <button role=\"button\" type=\"button\" style={style} onClick={event => onChangeValue(action(value))}>\n      <IconArrow open={value.miniatureOpen} position={position}/>\n    </button>\n  )\n\n}\n\nMiniatureToggleButton.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_miniature'\n\nfunction MiniatureMask({SVGWidth, SVGHeight, x1, y1, x2, y2, zoomToFit, _uid}) {\n  let maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <mask id={maskID}>\n          <rect x=\"0\" y=\"0\" width={SVGWidth} height={SVGHeight} fill=\"#ffffff\"/>\n          <rect x={x1} y={y1} width={x2 - x1} height={y2 - y1}/>\n        </mask>\n      </defs>\n\n      <rect\n        x=\"0\"\n        y=\"0\"\n        width={SVGWidth}\n        height={SVGHeight}\n        style={{\n          stroke: \"none\",\n          fill: \"#000\",\n          mask: `url(#${maskID})`,\n          opacity: 0.4\n        }}\n      />\n    </g>)\n}\n\nMiniatureMask.propTypes = {\n  SVGWidth: PropTypes.number.isRequired,\n  SVGHeight: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired,\n  zoomToFit: PropTypes.number.isRequired,\n}\n\nexport default RandomUID(MiniatureMask)\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  POSITION_RIGHT, POSITION_LEFT,\n} from '../constants';\nimport {applyToPoints, inverse} from 'transformation-matrix';\nimport MiniatureToggleButton from './miniature-toggle-button';\nimport MiniatureMask from './miniature-mask';\n\nconst {min, max} = Math;\n\nexport default function Miniature(props) {\n\n  let {value, onChangeValue, position, children, background, SVGBackground, width: miniatureWidth, height: miniatureHeight} = props;\n  let {SVGWidth, SVGHeight, viewerWidth, viewerHeight} = value;\n\n  let ratio = SVGHeight / SVGWidth;\n\n  let zoomToFit = ratio >= 1\n    ? miniatureHeight / SVGHeight\n    : miniatureWidth / SVGWidth;\n\n  let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(inverse(value), [\n    {x: 0, y: 0},\n    {x: viewerWidth, y: viewerHeight}\n  ]);\n\n  let width, height;\n  if (value.miniatureOpen) {\n    width = miniatureWidth;\n    height = miniatureHeight;\n  } else {\n    width = 24;\n    height = 24;\n  }\n\n  let style = {\n    position: \"absolute\",\n    overflow: \"hidden\",\n    outline: \"1px solid rgba(19, 20, 22, 0.90)\",\n    transition: \"width 200ms ease, height 200ms ease, bottom 200ms ease\",\n    width: width + \"px\",\n    height: height + \"px\",\n    bottom: \"6px\",\n    [position === POSITION_LEFT ? 'left' : 'right']: \"6px\",\n    background\n  };\n\n  let centerTranslation = ratio >= 1\n    ? `translate(${(miniatureWidth - (SVGWidth * zoomToFit)) / 2 }, 0)`\n    : `translate(0, ${(miniatureHeight - (SVGHeight * zoomToFit)) / 2 })`;\n\n  return (\n    <div role=\"navigation\" style={style}>\n      <svg\n        width={miniatureWidth}\n        height={miniatureHeight}\n        style={{pointerEvents: \"none\"}}>\n        <g transform={centerTranslation}>\n          <g transform={`scale(${zoomToFit}, ${zoomToFit})`}>\n\n            <rect\n              fill={SVGBackground}\n              x={0}\n              y={0}\n              width={value.SVGWidth}\n              height={value.SVGHeight}/>\n\n            {children}\n\n            <MiniatureMask\n              SVGWidth={SVGWidth}\n              SVGHeight={SVGHeight}\n              x1={x1}\n              y1={y1}\n              x2={x2}\n              y2={y2}\n              zoomToFit={zoomToFit}\n            />\n\n          </g>\n        </g>\n      </svg>\n      <MiniatureToggleButton value={value} onChangeValue={onChangeValue} position={position}/>\n    </div>\n  )\n}\n\nMiniature.propTypes = {\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  background: PropTypes.string.isRequired,\n  SVGBackground: PropTypes.string.isRequired,\n  width: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {toSVG} from 'transformation-matrix';\n\n//events\nimport eventFactory from './events/event-factory';\n\n//features\nimport {pan} from './features/pan';\nimport {\n  getDefaultValue,\n  setViewerSize,\n  setSVGSize,\n  setPointOnViewerCenter,\n  reset,\n  setZoomLevels\n} from './features/common';\nimport {\n  onMouseDown,\n  onMouseMove,\n  onMouseUp,\n  onWheel,\n  onMouseEnterOrLeave,\n  onInterval,\n  onDoubleClick\n} from './features/interactions';\nimport {\n  onTouchStart,\n  onTouchMove,\n  onTouchEnd,\n  onTouchCancel\n} from './features/interactions-touch';\n\nimport {zoom, fitSelection, fitToViewer, zoomOnViewerCenter} from './features/zoom';\nimport {openMiniature, closeMiniature} from './features/miniature';\n\n//ui\nimport cursorPolyfill from './ui/cursor-polyfill';\nimport BorderGradient from './ui/border-gradient';\nimport Selection from './ui/selection';\nimport Toolbar from './ui-toolbar/toolbar';\nimport detectTouch from './ui/detect-touch';\nimport Miniature from './ui-miniature/miniature'\n\nimport {\n  TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  MODE_IDLE, MODE_PANNING, MODE_ZOOMING,\n  POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT,\n  ACTION_PAN, ACTION_ZOOM,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM\n} from './constants';\n\nexport default class ReactSVGPanZoom extends React.Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    let {tool, value, width: viewerWidth, height: viewerHeight, scaleFactorMin, scaleFactorMax, children} = this.props;\n    let {width: SVGWidth, height: SVGHeight} = children.props;\n\n    this.state = {\n      value: value ? value : getDefaultValue(viewerWidth, viewerHeight, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax),\n      tool: tool ? tool : TOOL_NONE\n    };\n    this.ViewerDOM = null;\n\n    this.autoPanLoop = this.autoPanLoop.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let value = this.getValue();\n    let needUpdate = false;\n    let nextValue = value;\n\n    if (value.viewerWidth !== nextProps.width || value.viewerHeight !== nextProps.height) {\n      nextValue = setViewerSize(nextValue, nextProps.width, nextProps.height);\n      needUpdate = true;\n    }\n\n    let {width: SVGWidth, height: SVGHeight} = nextProps.children.props;\n    if (value.SVGWidth !== SVGWidth || value.SVGHeight !== SVGHeight) {\n      nextValue = setSVGSize(nextValue, SVGWidth, SVGHeight);\n      needUpdate = true;\n    }\n\n    if (value.scaleFactorMin !== nextProps.scaleFactorMin || value.scaleFactorMax !== nextProps.scaleFactorMax) {\n      nextValue = setZoomLevels(nextValue, nextProps.scaleFactorMin, nextProps.scaleFactorMax);\n      needUpdate = true;\n    }\n\n    if (needUpdate) {\n      this.setValue(nextValue);\n    }\n  }\n\n\n  getValue() {\n    return this.props.value ? this.props.value : this.state.value;\n  }\n\n  getTool() {\n    return this.props.tool ? this.props.tool : this.state.tool;\n  }\n\n  getSvgStyle(cursor) {\n    const style = {display: 'block'};\n\n    if (cursor) {\n      style.cursor = cursor;\n    }\n\n    if (this.props.detectPinchGesture || [TOOL_PAN, TOOL_AUTO].indexOf(this.getTool()) !== -1) {\n      style.touchAction = 'none';\n    }\n\n    return style;\n  }\n\n  setValue(nextValue) {\n    let {onChangeValue, onZoom, onPan} = this.props;\n    this.setState({value: nextValue});\n    if (onChangeValue) onChangeValue(nextValue);\n    if (nextValue.lastAction) {\n      if (onZoom && nextValue.lastAction === ACTION_ZOOM) onZoom(nextValue);\n      if (onPan && nextValue.lastAction === ACTION_PAN) onPan(nextValue);\n    }\n  }\n\n  pan(SVGDeltaX, SVGDeltaY) {\n    let nextValue = pan(this.getValue(), SVGDeltaX, SVGDeltaY);\n    this.setValue(nextValue);\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    let nextValue = zoom(this.getValue(), SVGPointX, SVGPointY, scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    let nextValue = fitSelection(this.getValue(), selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight);\n    this.setValue(nextValue);\n  }\n\n  fitToViewer(SVGAlignX=ALIGN_LEFT, SVGAlignY=ALIGN_TOP) {\n    let nextValue = fitToViewer(this.getValue(), SVGAlignX, SVGAlignY);\n    this.setValue(nextValue);\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    let nextValue = zoomOnViewerCenter(this.getValue(), scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    let nextValue = setPointOnViewerCenter(this.getValue(), SVGPointX, SVGPointY, zoomLevel);\n    this.setValue(nextValue);\n  }\n\n  reset() {\n    let nextValue = reset(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  changeTool(tool) {\n    this.setState({tool});\n    if (this.props.onChangeTool) this.props.onChangeTool(tool);\n  }\n\n  openMiniature() {\n    let nextValue = openMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  closeMiniature() {\n    let nextValue = closeMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  handleViewerEvent(event) {\n    let {props, state: {value}, ViewerDOM} = this;\n\n    if (!([TOOL_NONE, TOOL_AUTO].indexOf(this.getTool()) >= 0)) return;\n    if (event.target === ViewerDOM) return;\n\n    let eventsHandler = {\n      click: props.onClick,\n      dblclick: props.onDoubleClick,\n\n      mousemove: props.onMouseMove,\n      mouseup: props.onMouseUp,\n      mousedown: props.onMouseDown,\n\n      touchstart: props.onTouchStart,\n      touchmove: props.onTouchMove,\n      touchend: props.onTouchEnd,\n      touchcancel: props.onTouchCancel,\n    };\n\n    let onEventHandler = eventsHandler[event.type];\n    if (!onEventHandler) return;\n\n    onEventHandler(eventFactory(event, value, ViewerDOM));\n  }\n\n  autoPanLoop() {\n    let coords = {x: this.state.viewerX, y: this.state.viewerY};\n    let nextValue = onInterval(null, this.ViewerDOM, this.getTool(), this.getValue(), this.props, coords);\n\n    if (this.getValue() !== nextValue) {\n      this.setValue(nextValue);\n    }\n\n    if (this.autoPanIsRunning) {\n      requestAnimationFrame(this.autoPanLoop);\n    }\n  }\n\n  componentDidMount() {\n    let {props, state} = this;\n    if (props.onChangeValue) props.onChangeValue(state.value);\n\n    this.autoPanIsRunning = true;\n    requestAnimationFrame(this.autoPanLoop);\n  }\n\n  componentWillUnmount() {\n    this.autoPanIsRunning = false;\n  }\n\n  render() {\n    let {props, state: {viewerX, viewerY}} = this;\n    let tool = this.getTool();\n    let value = this.getValue();\n    let {customToolbar: CustomToolbar, customMiniature: CustomMiniature} = props;\n\n    let panningWithToolAuto = tool === TOOL_AUTO\n      && value.mode === MODE_PANNING\n      && value.startX !== value.endX\n      && value.startY !== value.endY;\n\n    let cursor;\n\n    if (tool === TOOL_PAN)\n      cursor = cursorPolyfill(value.mode === MODE_PANNING ? 'grabbing' : 'grab');\n\n    if (tool === TOOL_ZOOM_IN)\n      cursor = cursorPolyfill('zoom-in');\n\n    if (tool === TOOL_ZOOM_OUT)\n      cursor = cursorPolyfill('zoom-out');\n\n    if (panningWithToolAuto)\n      cursor = cursorPolyfill('grabbing');\n\n    let blockChildEvents = [TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT].indexOf(tool) >= 0;\n    blockChildEvents = blockChildEvents || panningWithToolAuto;\n\n    return (\n      <div\n        style={{position: \"relative\", width: value.viewerWidth, height: value.viewerHeight, ...props.style}}\n        className={this.props.className}>\n        <svg\n          ref={ViewerDOM => this.ViewerDOM = ViewerDOM}\n          width={value.viewerWidth}\n          height={value.viewerHeight}\n          style={this.getSvgStyle(cursor)}\n\n          onMouseDown={event => {\n            let nextValue = onMouseDown(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onMouseMove={event => {\n            let {left, top} = this.ViewerDOM.getBoundingClientRect();\n            let x = event.clientX - Math.round(left);\n            let y = event.clientY - Math.round(top);\n\n            let nextValue = onMouseMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props, {x, y});\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.setState({viewerX: x, viewerY: y});\n            this.handleViewerEvent(event);\n          }}\n          onMouseUp={event => {\n            let nextValue = onMouseUp(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onClick={event => {\n            this.handleViewerEvent(event)\n          }}\n          onDoubleClick={event => {\n            let nextValue = onDoubleClick(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onWheel={event => {\n            let nextValue = onWheel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n\n          onMouseEnter={event => {\n            if (detectTouch()) return;\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n          onMouseLeave={event => {\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n\n          onTouchStart={event => {\n            let nextValue = onTouchStart(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchMove={event => {\n            let nextValue = onTouchMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchEnd={event => {\n            let nextValue = onTouchEnd(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchCancel={event => {\n            let nextValue = onTouchCancel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}>\n\n          <rect\n            fill={props.background}\n            x={0}\n            y={0}\n            width={value.viewerWidth}\n            height={value.viewerHeight}\n            style={{pointerEvents: \"none\"}}\n          />\n\n          <g\n            transform={toSVG(value)}\n            style={blockChildEvents ? {pointerEvents: \"none\"} : {}}>\n            <rect\n              fill={this.props.SVGBackground}\n              style={this.props.SVGStyle}\n              x={0}\n              y={0}\n              width={value.SVGWidth}\n              height={value.SVGHeight}/>\n            <g>\n              {props.children.props.children}\n            </g>\n          </g>\n\n          {!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0 && props.detectAutoPan && value.focus) ? null : (\n            <g style={{pointerEvents: \"none\"}}>\n              {!(viewerY <= 20) ? null :\n                <BorderGradient direction={POSITION_TOP} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerWidth - viewerX <= 20) ? null :\n                <BorderGradient direction={POSITION_RIGHT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerHeight - viewerY <= 20) ? null :\n                <BorderGradient direction={POSITION_BOTTOM} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.focus && viewerX <= 20) ? null :\n                <BorderGradient direction={POSITION_LEFT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n            </g>\n          )}\n\n          {!(value.mode === MODE_ZOOMING) ? null :\n            <Selection startX={value.startX} startY={value.startY} endX={value.endX} endY={value.endY}/>\n          }\n        </svg>\n\n        {props.toolbarPosition === POSITION_NONE ? null :\n          <CustomToolbar\n            position={props.toolbarPosition}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            tool={tool}\n            onChangeTool={tool => this.changeTool(tool)}\n            {...this.props.toolbarProps} />}\n\n        {props.miniaturePosition === POSITION_NONE ? null :\n          <CustomMiniature\n            position={props.miniaturePosition}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            SVGBackground={this.props.SVGBackground}\n            background={this.props.miniatureBackground}\n            width={this.props.miniatureWidth}\n            height={this.props.miniatureHeight}\n          >\n            {props.children.props.children}\n          </CustomMiniature>\n        }\n      </div>\n    );\n  }\n}\n\nReactSVGPanZoom.propTypes = {\n  //width of the viewer displayed on screen\n  width: PropTypes.number.isRequired,\n\n  //height of the viewer displayed on screen\n  height: PropTypes.number.isRequired,\n\n  //background of the viewer\n  background: PropTypes.string,\n\n  //background of the svg\n  SVGBackground: PropTypes.string,\n\n  //style of the svg\n  SVGStyle: PropTypes.object,\n\n  //value of the viewer (current point of view)\n  value: PropTypes.shape({\n    version: PropTypes.oneOf([2]).isRequired,\n    mode: PropTypes.oneOf([MODE_IDLE, MODE_PANNING, MODE_ZOOMING]).isRequired,\n    focus: PropTypes.bool.isRequired,\n    a: PropTypes.number.isRequired,\n    b: PropTypes.number.isRequired,\n    c: PropTypes.number.isRequired,\n    d: PropTypes.number.isRequired,\n    e: PropTypes.number.isRequired,\n    f: PropTypes.number.isRequired,\n    viewerWidth: PropTypes.number.isRequired,\n    viewerHeight: PropTypes.number.isRequired,\n    SVGWidth: PropTypes.number.isRequired,\n    SVGHeight: PropTypes.number.isRequired,\n    startX: PropTypes.number,\n    startY: PropTypes.number,\n    endX: PropTypes.number,\n    endY: PropTypes.number,\n    miniatureOpen: PropTypes.bool.isRequired,\n  }),\n\n  //CSS style of the Viewer\n  style: PropTypes.object,\n\n  //className of the Viewer\n  className: PropTypes.string,\n\n  //perform zoom operation on mouse scroll\n  detectWheel: PropTypes.bool,\n\n  //perform PAN if the mouse is on viewer border\n  detectAutoPan: PropTypes.bool,\n\n  //perform zoom operation on pinch gesture\n  detectPinchGesture: PropTypes.bool,\n\n  //toolbar position\n  toolbarPosition: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n\n  //handler something changed\n  onChangeValue: PropTypes.func,\n\n  //handler tool changed\n  onChangeTool: PropTypes.func,\n\n  //handler zoom level changed\n  onZoom: PropTypes.func,\n\n  //handler pan action performed\n  onPan: PropTypes.func,\n\n  //handler click\n  onClick: PropTypes.func,\n\n  //handler double click\n  onDoubleClick: PropTypes.func,\n\n  //handler mouseup\n  onMouseUp: PropTypes.func,\n\n  //handler mousemove\n  onMouseMove: PropTypes.func,\n\n  //handler mousedown\n  onMouseDown: PropTypes.func,\n\n  //if disabled the user can move the image outside the viewer\n  preventPanOutside: PropTypes.bool,\n\n  //how much scale in or out\n  scaleFactor: PropTypes.number,\n\n  //how much scale in or out on mouse wheel (requires detectWheel enabled)\n  scaleFactorOnWheel: PropTypes.number,\n\n  // maximum amount of scale a user can zoom in to\n  scaleFactorMax: PropTypes.number,\n\n  // minimum amount of a scale a user can zoom out of\n  scaleFactorMin: PropTypes.number,\n\n  //current active tool (TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT)\n  tool: PropTypes.oneOf([TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT]),\n\n  //modifier keys //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n  modifierKeys: PropTypes.array,\n\n  //override toolbar component\n  customToolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  //miniature position\n  miniaturePosition: PropTypes.oneOf([POSITION_NONE, POSITION_RIGHT, POSITION_LEFT]),\n\n  //miniature height\n  miniatureBackground: PropTypes.string,\n\n  //miniature width\n  miniatureWidth: PropTypes.number,\n\n  //miniature height\n  miniatureHeight: PropTypes.number,\n\n  //override miniature component\n  customMiniature: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  //Turn off zoom on double click\n  disableDoubleClickZoomWithToolAuto: PropTypes.bool,\n\n  //toolbar props\n  toolbarProps: PropTypes.shape({\n    SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n    SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n  }),\n\n  //accept only one node SVG\n  children: function (props, propName, componentName) {\n    // Only accept a single child, of the appropriate type\n    //credits: http://www.mattzabriskie.com/blog/react-validating-children\n    let prop = props[propName];\n    let types = ['svg'];\n    if (React.Children.count(prop) !== 1 ||\n      types.indexOf(prop.type) === -1) {\n      return new Error(\n        '`' + componentName + '` ' +\n        'should have a single child of the following types: ' +\n        ' `' + types.join('`, `') + '`.'\n      );\n    }\n    if (!prop.props.hasOwnProperty('width') || !prop.props.hasOwnProperty('height')) {\n      return new Error('SVG should have props `width` and `height`');\n    }\n\n  }\n};\n\nReactSVGPanZoom.defaultProps = {\n  value: null,\n  tool: null,\n  style: {},\n  background: \"#616264\",\n  SVGBackground: \"#fff\",\n  SVGStyle: {},\n  detectWheel: true,\n  detectAutoPan: true,\n  detectPinchGesture: true,\n  toolbarPosition: POSITION_RIGHT,\n  modifierKeys: [\"Alt\", \"Shift\", \"Control\"],\n  customToolbar: Toolbar,\n  preventPanOutside: true,\n  scaleFactor: 1.1,\n  scaleFactorOnWheel: 1.06,\n  miniaturePosition: POSITION_LEFT,\n  miniatureWidth: 100,\n  miniatureHeight: 80,\n  miniatureBackground: \"#616264\",\n  customMiniature: Miniature,\n  disableZoomWithToolAuto: false,\n  onZoom: null,\n  onPan: null,\n  toolbarProps: {}\n};\n","import ViewerMouseEvent from './viewer-mouse-event';\nimport ViewerTouchEvent from './viewer-touch-event';\n\nexport default function (originalEvent, value, SVGViewer) {\n\n  let eventType = originalEvent.type;\n\n  switch (eventType) {\n    case \"mousemove\":\n    case \"mouseup\":\n    case \"mousedown\":\n    case \"click\":\n    case \"dblclick\":\n      return new ViewerMouseEvent(originalEvent, value, SVGViewer);\n\n    case \"touchstart\":\n    case \"touchmove\":\n    case \"touchend\":\n    case \"touchcancel\":\n      return new ViewerTouchEvent(originalEvent, value, SVGViewer);\n\n    default:\n      throw new Error(`${eventType} not supported`);\n  }\n}\n","export default function mapRange(value, low1, high1, low2, high2) {\n  return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}\n","//http://stackoverflow.com/a/4819886/1398836\n\nexport default function isTouchDevice() {\n  return 'ontouchstart' in window        // works on most browsers\n    || navigator.maxTouchPoints;       // works on IE10/11 and Surface\n};\n","export {default as ReactSVGPanZoom} from './viewer';\nexport {default as Toolbar} from './ui-toolbar/toolbar';\nexport {default as Miniature} from './ui-miniature/miniature';\nexport {setPointOnViewerCenter, reset} from './features/common';\nexport {pan} from './features/pan';\nexport {zoom, fitSelection, fitToViewer, zoomOnViewerCenter} from './features/zoom';\nexport {openMiniature, closeMiniature} from './features/miniature'\nexport * from './constants';\n\nexport const Viewer = () => {\n  let msg = \"HEY! You are trying to use an older version of ReactSVGPanZoom. \"\n    + \"Read here https://github.com/chrvadala/react-svg-pan-zoom/blob/master/docs/migrate-from-v1-to-v2.md\";\n\n  console.error(msg);\n  return null;\n};\n"],"sourceRoot":""}